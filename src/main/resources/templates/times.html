<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Times e Jogadores</title>
<link rel="stylesheet" href="/css/style.css">
</head>
<body>
	<div class="container">
		<header>
			<h1>⚽ Times e Jogadores</h1>

			<div class="logout-container" sec:authorize="isAuthenticated()">
				<form th:action="@{/logout}" method="post">
					<button type="submit" class="btn btn-logout">Logout</button>
				</form>
			</div>
		</header>

		<!-- Lista de Times -->
		<section class="times-container">
			<h2>Times</h2>
			<div class="times-list">
				<div class="time-card" th:each="time : ${times}">
					<div class="time-header">
						<h3 th:text="${time.nome}"></h3>
						<form th:action="@{/times/deletar/{id}(id=${time.id})}"
							method="post">
							<button type="submit" class="btn btn-delete">🗑️</button>
						</form>
					</div>

					<!-- Lista de jogadores -->
					<ul class="jogador-list">
						<li th:each="jogador : ${time.jogadores}"><span
							class="jogador-nome" th:text="${jogador.nome}"></span>
							<div class="jogador-actions">
								<form th:action="@{/jogadores/deletar/{id}(id=${jogador.id})}"
									method="post">
									<button type="submit" class="btn btn-delete">🗑️</button>
								</form>
								<a th:href="@{/jogadores/edit/{id}(id=${jogador.id})}"
									class="btn btn-edit">✏️</a>
							</div></li>
					</ul>
				</div>
			</div>
		</section>

		<!-- Formulários -->
		<section class="form-container">
			<h2>➕ Adicionar Jogador</h2>
			<form action="/jogadores/salvar" method="post" class="form">
				<input type="text" id="nomeJogador" name="nome"
					placeholder="Nome do Jogador" required> <select id="timeId"
					name="timeId" required>
					<option value="">Selecione um Time</option>
					<option th:each="time : ${times}" th:value="${time.id}"
						th:text="${time.nome}"></option>
				</select>
				<button type="submit" class="btn btn-save">Salvar</button>
			</form>

			<h2>➕ Adicionar Time</h2>
			<form action="/times/salvar" method="post" class="form">
				<input type="text" id="nome" name="nome" placeholder="Nome do Time"
					required>
				<button type="submit" class="btn btn-save">Salvar</button>
			</form>
		</section>

		<a href="/" class="btn btn-back">🏠 Voltar à Página Inicial</a>
	</div>
</body>
</html>

